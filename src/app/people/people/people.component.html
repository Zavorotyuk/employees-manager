<div class="empl-container" *ngIf="!loading">
  <div class="empl-list">
    <div class="search-employee">
      <mat-form-field>
        <input type="search" matInput [(ngModel)]="searchTerm" placeholder="Search" />
      </mat-form-field>
    </div>
    <div class="empl-item" *ngFor="let person of employeesList | filter : searchTerm ">
      <mat-card>
        <mat-card-title>{{person.firstName}} {{person.lastName}}</mat-card-title>
        <mat-card-content>
          <div>Age: {{person.age}}</div>
          <div>Level: {{person.level}}</div>
          <div>Skill: {{person.skill}}</div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-icon-button>
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button (click)="deleteEmployee(person.key)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <div class="add-empl">
    <h3>Add employee</h3>
    <form [formGroup]="addEmployeeForm" class="add-empl__form" (ngSubmit)="addEmployee(addEmployeeForm.value)">
      <mat-form-field>
        <input matInput placeholder="First name" formControlName="firstName"/>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Last Name" formControlName="lastName"/>
      </mat-form-field>
      <mat-form-field>
        <input type="number" matInput placeholder="Age" formControlName="age"/>
      </mat-form-field>
      <mat-form-field>
        <input type="number" matInput placeholder="Level" formControlName="level"/>
      </mat-form-field>
      <mat-form-field>
        <mat-select placeholder="Skill" formControlName="skill">
          <mat-option *ngFor="let skill of skills" [value]="skill.viewValue">
              {{skill.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <button type="submit" [disabled]="!addEmployeeForm.valid" mat-raised-button>Add</button>
      </div>
    </form>
  </div>
</div>
<ngx-loading [show]="loading"></ngx-loading>
